/*
 * SWITCH.c
 *
 *  Created on: May 7, 2021
 *      Author: j.cespedes
 */


// -- Drivers
#include "SWITCH_.h"
#include "SWITCH.h"

// -- System
#include "SYSTEM_.h"
#include "SYSTEM.h"	//Tengo dudas de si va en esta capa - CREO que NO le TOCA

#include "CORTEXM_TYPES.h"
#include "STM32F042_REGS_.h"
#include "CORTEX_M0_.h"

/* ****************************************************************************
 * DEFINICIONES Y CONSTANTES
 *************************************************************************** */
#define BTN_0 00000001;
#define BTN_1 00000002;

/* ***************************************************************************
 * VARIABLES
 ************************************************************************** */


/* ############################################################################
 * ########        SISTEMA        #############################################
 * ######################################################################### */

/* ****************************************************************************
 * INICIALIZACIONES HARDWARE
 * ************************************************************************* */

void SWITCH_Ini(){
    *GPIOB_MODER &= ~0x0000000F;	/* PB0 y PB1 como ... */
    *GPIOB_MODER |=  0x00000000;	/* ... entrada */

    *GPIOB_PUPDR &= ~0x00000000;	/* PB0 y PB1 con ...*/
    *GPIOB_PUPDR |=  0x00000005;	/* ... pull-up */


}

void SWITCH_per(){

	static uint32_t reg_btn_0 [3];
	static uint32_t reg_btn_1 [3];
	static uint32_t j, i;

	//*GPIOB_IDR
	reg_btn_0[j] = *GPIOB_IDR = BTN_0;
	reg_btn_1[i] = *GPIOB_IDR = BTN_1;

	if(j==3){
		j=0;
	}
	else{
		j++;
	}
	if(i==3){
		i=0;
	}
	else{
		i++;
	}
}

/* ##########################################################################
 * ########        APLICACIÃ“N        ########################################
 * ####################################################################### */

/* ****************************************************************************
 * FIJAR EL ESTADO DE xxx
 * ************************************************************************* */

void SWITCH_Set(){

}

void SWITCH_Get(){

}

